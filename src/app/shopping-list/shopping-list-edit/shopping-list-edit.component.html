<div class="row">
    <div class="col-xs-12">
        <form (ngSubmit)="onAddItem(f)" #f="ngForm">
            <div class="row">
                <div class="col-2 form-group">
                    <label for="name">Nome</label>
                    <input type="text"
                           id="name"
                           name="name"
                           class="form-control"
                           minlength="3"
                           ngModel
                           required
                    >
                </div>
                <div class="col-2 form-group">
                    <label for="amount">Quantità</label>
                    <input type="number"
                           name="amount"
                           id="amount"
                           class="form-control"
                           ngModel
                           required
                           pattern="^[1-9]+[0-9]*$"
                    >
                </div>
            </div>
            <div class="row">
              <div 
                class="col-2"
                *ngIf="f.form.controls['name'] !== undefined"
              >
                <span
                  *ngIf="f.form.controls['name'].invalid && f.form.controls['name'].touched"
                >
                  <span
                    class="help-block text-danger"
                    *ngIf="f!.form!.controls!['name']!.errors!['required']!"
                  >
                    Il nome è obbligatorio.
                  </span>
                  <span
                    class="help-block text-danger"
                    *ngIf="f!.form!.controls!['name']!.errors!['minlength']!"
                  >
                    Almeno 3 caratteri.
                  </span>
                </span>
                <span
                  *ngIf="!(f.form.controls['name'].invalid && f.form.controls['name'].touched)"
                >
                  &nbsp;
                </span>
              </div>
              <div
                class="col-4"
                *ngIf="f.form.controls['amount'] !== undefined"
              >
                <span
                  *ngIf="f.form.controls['amount'].invalid && f.form.controls['amount'].touched"
                >
                  <span
                    class="help-block text-danger"
                    *ngIf="f!.form!.controls!['amount']!.errors!['required']!"
                  >
                    La quantità è obbligatoria.
                  </span>
                  <span
                    class="help-block text-danger"
                    *ngIf="f!.form!.controls!['amount']!.errors!['pattern']!"
                  >
                    La quantità deve essere maggiore di 0.
                  </span>
                </span>
                <span
                  *ngIf="!(f.form.controls['amount'].invalid && f.form.controls['amount'].touched)"
                >
                  &nbsp;
                </span>
              </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <button type="submit"
                            class="btn btn-success m-1"
                            [disabled]="f.invalid"
                    >
                      {{editMode ? 'Aggiorna' : 'Aggiungi'}}
                    </button>
                  <button
                    class="btn btn-danger m-1"
                    type="button"
                    (click)="onDelete();"
                    *ngIf="editMode"
                  >
                    Rimuovi
                  </button>
                   <button
                     class="btn btn-primary m-1"
                     type="button"
                     (click)="onClear();"
                   >
                     Pulisci
                   </button>
                </div>
            </div>
        </form>
    </div>
</div>
